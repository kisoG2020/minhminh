/* BlockudokuGame.css */

/* CSS Variables for reusable values */
:root {
  --primary-pink: #ec4899;
  --primary-red: #ef4444;
  --pink-light: #f9a8d4;
  --white: #ffffff;
  --white-transparent: rgba(255, 255, 255, 0.1);
  --yellow-trophy: #facc15;
  --shadow-dark: rgba(0, 0, 0, 0.1);
  --shadow-pink: rgba(236, 72, 153, 0.3);
  --border-pink: rgba(244, 114, 182, 0.6);
  --border-white: rgba(255, 255, 255, 0.2);
  --modal-bg: rgba(0, 0, 0, 0.5);
  --modal-gradient: linear-gradient(135deg, rgba(236, 72, 153, 0.2), rgba(239, 68, 68, 0.2));
  --gradient-pink-red: linear-gradient(135deg, var(--primary-pink), var(--primary-red));
  --transition: all 200ms ease;
  --font-family: 'Inter', -apple-system, sans-serif;
}

/* Game Container */
.game-container {
  min-height: calc(100vh - 5rem); /* Account for 80px header */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding: 0.5rem;
  width: 100%;
}

.main-content.sidebar-hidden .game-container {
  justify-content: center; /* Center vertically when sidebar is hidden */
}

.main-content.sidebar-visible .game-container {
  margin-right: 18.75rem; /* Shift left for 300px sidebar */
}

@media (min-width: 640px) {
  .game-container {
    padding: 1rem;
  }
}

@media (max-width: 768px) {
  .game-container {
    padding: 1rem;
  }
  .main-content.sidebar-hidden .game-container,
  .main-content.sidebar-visible .game-container {
    margin-right: 0; /* No margin on mobile */
    justify-content: flex-start; /* Align to top */
  }
}

/* Game Wrapper */
.game-wrapper {
  width: 100%;
  max-width: 24rem; /* 384px */
}

@media (min-width: 640px) {
  .game-wrapper {
    max-width: 42rem; /* 672px */
  }
}

@media (min-width: 1024px) {
  .game-wrapper {
    max-width: 56rem; /* 896px */
  }
}

/* Header */
.header {
  text-align: center;
  margin-bottom: 1rem;
}

@media (min-width: 640px) {
  .header {
    margin-bottom: 1.5rem;
  }
}

.header-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--white);
  margin-bottom: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

@media (min-width: 640px) {
  .header-title {
    font-size: 1.875rem;
    gap: 0.75rem;
  }
}

@media (min-width: 1024px) {
  .header-title {
    font-size: 2.25rem;
  }
}

.header-subtitle {
  color: var(--pink-light);
  font-size: 0.875rem;
}

@media (min-width: 640px) {
  .header-subtitle {
    font-size: 1rem;
  }
}

/* Score */
.score-container {
  display: flex;
  justify-content: center;
  margin-bottom: 1rem;
}

@media (min-width: 640px) {
  .score-container {
    margin-bottom: 1.5rem;
  }
}

.score-box {
  background: var(--white-transparent);
  backdrop-filter: blur(10px);
  border-radius: 0.5rem;
  padding: 0.5rem 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

@media (min-width: 640px) {
  .score-box {
    padding: 0.75rem 1.5rem;
  }
}

.score-text {
  color: var(--white);
  font-weight: 700;
  font-size: 1.125rem;
}

@media (min-width: 640px) {
  .score-text {
    font-size: 1.25rem;
  }
}

/* Game Area */
.game-area {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

@media (min-width: 640px) {
  .game-area {
    gap: 1.5rem;
  }
}

/* Game Grid */
.grid-container {
  background: var(--white-transparent);
  backdrop-filter: blur(10px);
  border-radius: 0.5rem;
  padding: 0.75rem;
  margin: 0 auto;
}

@media (min-width: 640px) {
  .grid-container {
    padding: 1rem;
  }
}

.grid {
  display: grid;
  grid-template-columns: repeat(9, 1fr);
  gap: 0.125rem;
  width: fit-content;
  margin: 0 auto;
}

@media (min-width: 640px) {
  .grid {
    gap: 0.25rem;
  }
}

.grid-cell {
  width: 1.5rem;
  height: 1.5rem;
  border: 1px solid pink;
  border-radius: 0.25rem;
  cursor: pointer;
  transition: var(--transition);
}

@media (min-width: 640px) {
  .grid-cell {
    width: 2rem;
    height: 2rem;
  }
}

.grid-cell.cell-filled {
  background: var(--gradient-pink-red);
  box-shadow: 0 0 0.5rem var(--shadow-pink);
}

.grid-cell.cell-empty {
  background: var(--white-transparent);
}

.grid-cell.cell-empty:hover,
.grid-cell.cell-empty:focus {
  background: rgba(244, 114, 182, 0.2);
}

.grid-cell.cell-border-bottom {
  border-bottom: 2px solid var(--border-pink);
}

.grid-cell.cell-border-right {
  border-right: 2px solid var(--border-pink);
}

/* Block Selection */
.blocks-container {
  background: var(--white-transparent);
  backdrop-filter: blur(10px);
  border-radius: 0.5rem;
  padding: 0.75rem;
  width: 100%;
  max-width: 24rem;
}

@media (min-width: 640px) {
  .blocks-container {
    padding: 1rem;
  }
}

.blocks-title {
  color: var(--white);
  font-weight: 700;
  margin-bottom: 0.75rem;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

@media (min-width: 640px) {
  .blocks-title {
    margin-bottom: 1rem;
  }
}

.blocks-list {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
}

@media (min-width: 640px) {
  .blocks-list {
    gap: 1rem;
  }
}

@media (min-width: 1024px) {
  .blocks-list {
    flex-direction: column;
    gap: 1rem;
  }
}

.block-item {
  cursor: pointer;
  padding: 0.5rem;
  border-radius: 0.5rem;
  transition: var(--transition);
  flex: 1;
}

@media (min-width: 1024px) {
  .block-item {
    flex: none;
  }
}

.block-item.block-used {
  opacity: 0.3;
  cursor: not-allowed;
}

.block-item.block-dragging {
  opacity: 0.5;
  transform: scale(0.95);
}

.block-item.block-available {
  background: var(--white-transparent);
}

.block-item.block-available:hover,
.block-item.block-available:focus {
  background: rgba(244, 114, 182, 0.2);
  transform: scale(1.05);
}

.block-grid {
  display: grid;
  gap: 0.125rem;
  width: fit-content;
  margin: 0 auto;
}

@media (min-width: 640px) {
  .block-grid {
    gap: 0.25rem;
  }
}

.block-row {
  display: flex;
  gap: 0.125rem;
}

@media (min-width: 640px) {
  .block-row {
    gap: 0.25rem;
  }
}

.block-cell {
  width: 1rem;
  height: 1rem;
  border-radius: 0.25rem;
}

@media (min-width: 640px) {
  .block-cell {
    width: 1.25rem;
    height: 1.25rem;
  }
}

@media (min-width: 1024px) {
  .block-cell {
    width: 1.5rem;
    height: 1.5rem;
  }
}

.block-cell.block-cell-filled {
  background: var(--gradient-pink-red);
  box-shadow: 0 0 0.25rem var(--shadow-dark);
}

.block-cell.block-cell-empty {
  background: transparent;
}

.block-label {
  color: var(--pink-light);
  font-size: 0.75rem;
  text-align: center;
  margin-top: 0.25rem;
}

@media (min-width: 640px) {
  .block-label {
    margin-top: 0.5rem;
  }
}

/* Drag Image */
.drag-image {
  position: absolute;
  top: -1000px; /* Hide off-screen */
  background: rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(5px);
  border-radius: 0.5rem;
  padding: 0.5rem;
  opacity: 1; /* Full opacity for clarity */
  box-shadow: 0 4px 12px var(--shadow-pink);
  animation: lift 0.3s ease-out forwards; /* Subtle lift effect */
}

@keyframes lift {
  0% { transform: translateY(0); }
  100% { transform: translateY(-4px); }
}

.drag-block-grid {
  display: grid;
  gap: 0.125rem;
}

@media (min-width: 640px) {
  .drag-block-grid {
    gap: 0.25rem;
  }
}

.drag-block-row {
  display: flex;
  gap: 0.125rem;
}

@media (min-width: 640px) {
  .drag-block-row {
    gap: 0.25rem;
  }
}

.drag-block-cell {
  width: 1rem;
  height: 1rem;
  border-radius: 0.25rem;
}

@media (min-width: 640px) {
  .drag-block-cell {
    width: 1.25rem;
    height: 1.25rem;
  }
}

@media (min-width: 1024px) {
  .drag-block-cell {
    width: 1.5rem;
    height: 1.5rem;
  }
}

.drag-block-cell.drag-block-cell-filled {
  background: var(--gradient-pink-red);
  box-shadow: 0 0 0.25rem var(--shadow-dark);
}

.drag-block-cell.drag-block-cell-empty {
  background: transparent;
}

/* Dragging Indicator */
.dragging-indicator {
  position: fixed;
  top: 1rem;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(236, 72, 153, 0.9);
  color: var(--white);
  padding: 0.5rem 0.75rem;
  border-radius: 0.5rem;
  font-weight: 700;
  z-index: 50;
  font-size: 0.875rem;
}

@media (min-width: 640px) {
  .dragging-indicator {
    padding: 0.5rem 1rem;
    font-size: 1rem;
  }
}

/* Modal Overlay */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: var(--modal-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 50;
  padding: 1rem;
}

/* Modal Content */
.modal-content {
  background: var(--modal-gradient);
  backdrop-filter: blur(10px);
  border-radius: 0.5rem;
  padding: 1.5rem;
  text-align: center;
  max-width: 24rem;
  width: 100%;
  border: 1px solid var(--border-pink);
}

@media (min-width: 640px) {
  .modal-content {
    padding: 2rem;
  }
}

.modal-icon {
  width: 2.5rem;
  height: 2.5rem;
  color: var(--primary-pink);
  margin: 0 auto 1rem;
}

@media (min-width: 640px) {
  .modal-icon {
    width: 3rem;
    height: 3rem;
  }
}

.modal-title {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--white);
  margin-bottom: 1rem;
}

@media (min-width: 640px) {
  .modal-title {
    font-size: 1.5rem;
  }
}

.modal-text {
  color: var(--pink-light);
  margin-bottom: 1rem;
  font-size: 0.875rem;
}

@media (min-width: 640px) {
  .modal-text {
    font-size: 1rem;
  }
}

.modal-score {
  font-size: 1.875rem;
  font-weight: 700;
  color: var(--primary-pink);
  margin-bottom: 1rem;
}

@media (min-width: 640px) {
  .modal-score {
    font-size: 2.25rem;
  }
}

.modal-button {
  background: var(--gradient-pink-red);
  color: var(--white);
  padding: 0.75rem 1.5rem;
  border-radius: 0.5rem;
  font-weight: 700;
  font-size: 1rem;
  border: none;
  cursor: pointer;
  box-shadow: 0 0.25rem 0.375rem var(--shadow-dark);
  transition: var(--transition);
}

.modal-button:hover,
.modal-button:focus {
  transform: scale(1.05);
}

.modal-button:active {
  transform: scale(0.95);
}

@media (min-width: 640px) {
  .modal-button {
    padding: 0.75rem 2rem;
    font-size: 1.125rem;
  }
}

.modal-button-replay {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0 auto;
}

/* Instructions */
.instructions {
  margin-top: 1.5rem;
  background: var(--white-transparent);
  backdrop-filter: blur(10px);
  border-radius: 0.5rem;
  padding: 1rem;
}

@media (min-width: 640px) {
  .instructions {
    margin-top: 2rem;
    padding: 1.5rem;
  }
}

.instructions-content {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
}

.instructions-title {
  color: var(--white);
  font-weight: 700;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

@media (min-width: 640px) {
  .instructions-title {
    font-size: 1rem;
  }
}

.instructions-list {
  color: var(--pink-light);
  list-style: none;
  font-size: 0.75rem;
  line-height: 1.5;
}

@media (min-width: 640px) {
  .instructions-list {
    font-size: 0.875rem;
  }
}

.instructions-list li {
  margin-bottom: 0.25rem;
}

/* Icons */
.icon-heart,
.icon-heart-small {
  color: var(--primary-pink);
}

.icon-heart-small {
  width: 1rem;
  height: 1rem;
}

.icon-trophy {
  color: var(--yellow-trophy);
  width: 1.25rem;
  height: 1.25rem;
}

@media (min-width: 640px) {
  .icon-trophy {
    width: 1.5rem;
    height: 1.5rem;
  }
}

.icon-sparkles {
  color: var(--primary-pink);
  width: 1rem;
  height: 1rem;
  margin-top: 0.25rem;
}

@media (min-width: 640px) {
  .icon-sparkles {
    width: 1.25rem;
    height: 1.25rem;
  }
}

.icon-replay {
  width: 1rem;
  height: 1rem;
}

@media (min-width: 640px) {
  .icon-replay {
    width: 1.25rem;
    height: 1.25rem;
  }
}